# Task 3: Coverage Calculation

## Design Reference
- [tech-design.md ยง6](../../design/citation-eval/tech-design.md#6-coverage-analysis)

## Objective
Measure what percentage of factual claims in a report have citations.

## Requirements

### R3.1: Claim Detection
Identify factual claims (sentences that should have citations)

### R3.2: Non-Claim Filtering
Exclude per tech-design.md ยง6.2:
- Headers
- Code blocks
- Meta-statements
- Questions
- Navigation text

### R3.3: Coverage Metric
Calculate: `claims_with_citation / total_claims`

### R3.4: Uncited Claims List
Return list of claims missing citations for debugging

## Dependencies
- Task 1: Citation extraction (for citation presence check)

## Test Plan

| Test | Input | Expected |
|------|-------|----------|
| Full coverage | All claims have citations | coverage = 1.0 |
| No coverage | No citations in report | coverage = 0.0 |
| Partial | 3 of 6 claims cited | coverage = 0.5 |
| Headers excluded | `"# Header\nClaim [a:1-2]"` | 1 claim (not header) |
| Meta excluded | `"This section covers X"` | 0 claims |
| Empty report | `""` | coverage = 1.0 (vacuous) |

## Acceptance Criteria
- [ ] Non-claim patterns from tech-design.md ยง13.1 correctly filtered
- [ ] Coverage calculation matches formula
- [ ] Uncited claims list populated
- [ ] Short sentences (< 4 words) excluded
