# Task 12: get_structure Tool

## Objective
Implement the `get_structure` tool to get a file's organizational overview.

## Dependencies
- Task 8: get_symbols tool
- Task 9: get_imports tool

## Deliverables

`tech_writer/tools/semantic.py` (additions):

```python
def get_structure(
    path: str,
    store: Store = None,
    repo_root: Path = None
) -> dict:
    """
    Get the structural overview of a file.

    Args:
        path: File path (reads file if not already cached)
        store: Cache store
        repo_root: Repository root path

    Returns:
        {
            "imports": [{"module": str, "names": list[str]}, ...],
            "classes": [{"name": str, "line": int, "methods": list[str]}, ...],
            "functions": [{"name": str, "line": int}, ...],
            "exports": list[str]  # Exported names (language-dependent)
        }
    """
```

## Acceptance Criteria

- [ ] Returns imports, classes, functions in one call
- [ ] Classes include their methods
- [ ] Exports identified where language supports it
- [ ] Reads and caches file if not already cached
- [ ] Returns empty structure for unsupported languages

## Test Cases (using axios repo)

```gherkin
Feature: get_structure tool

  Scenario: Get structure of main file
    Given the axios repository is cloned
    When I call get_structure("lib/axios.js")
    Then I should get imports, classes, and functions
    And classes should include their methods

  Scenario: Structure includes exports
    Given the axios repository is cloned
    When I call get_structure("lib/axios.js")
    Then I should see exported symbols
    And the default export should be identified

  Scenario: Complete overview in one call
    Given the axios repository is cloned
    When I call get_structure("lib/core/Axios.js")
    Then I should understand the file organization
    And I should see the Axios class with its methods
```

## Output Format

```python
{
    "imports": [
        {"module": "./utils", "names": ["bind", "extend"]},
        {"module": "./core/Axios", "names": ["Axios"]}
    ],
    "classes": [
        {
            "name": "Axios",
            "line": 15,
            "methods": ["request", "get", "post", "put", "delete"]
        }
    ],
    "functions": [
        {"name": "createInstance", "line": 50}
    ],
    "exports": ["axios", "Axios", "default"]
}
```

## Implementation Notes

- Combine results from `get_symbols` and `get_imports`
- Group methods by their parent class
- Export detection is language-specific:
  - JavaScript: `export`, `module.exports`
  - Python: `__all__`, or all public names
  - TypeScript: `export`
