# Task 11: get_references Tool

## Objective
Implement the `get_references` tool to find all usages of a symbol.

## Dependencies
- Task 8: get_symbols tool

## Deliverables

`tech_writer/tools/semantic.py` (additions):

```python
def get_references(
    name: str,
    store: Store = None
) -> list[dict]:
    """
    Find all usages of a symbol (across all cached files).

    Args:
        name: Symbol name to search for
        store: Cache store

    Returns:
        [{"path": str, "line": int, "context": str}, ...]
    """
```

## Acceptance Criteria

- [ ] Searches all cached files for symbol usages
- [ ] Returns line number and context for each usage
- [ ] Context is the line containing the usage
- [ ] Only searches already-cached files
- [ ] Excludes the definition itself (optional, configurable)

## Test Cases (using axios repo)

```gherkin
Feature: get_references tool

  Scenario: Find function usages
    Given the axios repository is cloned
    And I have read multiple files in "lib/"
    When I call get_references("bind")
    Then I should get a list of usages
    And each usage should have path, line, and context

  Scenario: Context shows the line
    Given the axios repository is cloned
    And I have read "lib/axios.js"
    When I call get_references("Axios")
    Then each context should contain "Axios"

  Scenario: No usages found
    Given the axios repository is cloned
    And I have read "lib/axios.js"
    When I call get_references("nonExistentSymbol123")
    Then I should get an empty list
```

## Output Format

```python
[
    {
        "path": "lib/axios.js",
        "line": 25,
        "context": "  const instance = new Axios(config);"
    },
    {
        "path": "lib/core/dispatchRequest.js",
        "line": 10,
        "context": "import Axios from './Axios';"
    }
]
```

## Implementation Notes

- Use regex or text search on cached file content
- Match word boundaries to avoid partial matches (e.g., "bind" shouldn't match "binding")
- Consider using `\b{name}\b` pattern
- Context is trimmed to the line containing the match
