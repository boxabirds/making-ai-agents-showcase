# Task 14: Tool Registration (OpenAI Format)

## Objective
Register all tools in OpenAI function-calling format for the LLM.

## Dependencies
- Tasks 3, 4, 8-13: All tool implementations

## Deliverables

`tech_writer/tools/__init__.py`:

```python
from .filesystem import list_files, read_file
from .semantic import (
    get_symbols, get_imports, get_definition,
    get_references, get_structure, search_text
)

TOOLS = {
    "list_files": list_files,
    "read_file": read_file,
    "get_symbols": get_symbols,
    "get_imports": get_imports,
    "get_definition": get_definition,
    "get_references": get_references,
    "get_structure": get_structure,
    "search_text": search_text,
    "finish_exploration": finish_exploration,
}

def get_tool_definitions() -> list[dict]:
    """Return OpenAI-format tool definitions for all tools."""
```

## Acceptance Criteria

- [ ] All tools exported from `tools` module
- [ ] `get_tool_definitions()` returns valid OpenAI format
- [ ] Each tool has proper parameter descriptions
- [ ] Parameter types correctly mapped to JSON Schema
- [ ] Required vs optional parameters marked correctly

## Tool Definition Format

```python
{
    "type": "function",
    "function": {
        "name": "get_symbols",
        "description": "Get all symbols (functions, classes) defined in a file.",
        "parameters": {
            "type": "object",
            "properties": {
                "path": {
                    "type": "string",
                    "description": "File path relative to repo root"
                },
                "kind": {
                    "type": "string",
                    "description": "Filter by kind: function, class, method, variable",
                    "enum": ["function", "class", "method", "variable"]
                }
            },
            "required": ["path"]
        }
    }
}
```

## Test Cases

```gherkin
Feature: Tool registration

  Scenario: All tools registered
    When I call get_tool_definitions()
    Then I should get definitions for all 9 tools
    And each should have name, description, parameters

  Scenario: Valid OpenAI format
    When I call get_tool_definitions()
    Then each definition should have type="function"
    And each should have a "function" object
    And parameters should be valid JSON Schema

  Scenario: Tools are callable
    Given I have tool definitions
    When I look up a tool by name
    Then I should be able to call TOOLS[name](**args)
```

## Implementation Notes

- Reuse pattern from existing `tech-writer.py` `create_openai_tool_definitions`
- Parse docstrings for descriptions
- Use type hints for parameter types
- Mark parameters without defaults as required
