# Task 9: get_imports Tool

## Objective
Implement the `get_imports` semantic tool.

## Dependencies
- Task 7: Import extraction

## Deliverables

`tech_writer/tools/semantic.py` (additions):

```python
def get_imports(
    path: str,
    store: Store = None,
    repo_root: Path = None
) -> list[dict]:
    """
    Get all imports/dependencies in a file.

    Args:
        path: File path (reads file if not already cached)
        store: Cache store
        repo_root: Repository root path

    Returns:
        [{"module": str, "names": list[str], "line": int, "is_relative": bool}, ...]
    """
```

## Acceptance Criteria

- [ ] Returns all imports from the file
- [ ] Includes module name and imported names
- [ ] Identifies relative vs absolute imports
- [ ] Reads and caches file if not already cached
- [ ] Returns empty list for unsupported languages

## Test Cases (using axios repo)

```gherkin
Feature: get_imports tool

  Scenario: Get imports from axios main file
    Given the axios repository is cloned
    When I call get_imports("lib/axios.js")
    Then I should get a list of imports
    And the list should include relative imports

  Scenario: Imports include line numbers
    Given the axios repository is cloned
    When I call get_imports("lib/axios.js")
    Then each import should have a "line" field
    And line numbers should be positive integers

  Scenario: Distinguish relative imports
    Given the axios repository is cloned
    When I call get_imports("lib/core/Axios.js")
    Then relative imports should have is_relative=true
    And absolute imports should have is_relative=false
```

## Output Format

```python
[
    {
        "module": "./utils",
        "names": ["bind", "extend"],
        "line": 3,
        "is_relative": True
    },
    {
        "module": "http",
        "names": [],
        "line": 1,
        "is_relative": False
    }
]
```

## Implementation Notes

- Call `read_file` internally to ensure caching
- Use `extract_imports` from parser module
- Convert Import dataclass to dict for JSON serialization
