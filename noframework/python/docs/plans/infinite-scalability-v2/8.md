# Task 8: get_symbols Tool

## Objective
Implement the `get_symbols` semantic tool.

## Dependencies
- Task 6: Symbol extraction

## Deliverables

`tech_writer/tools/semantic.py`:

```python
def get_symbols(
    path: str,
    kind: str = None,
    store: Store = None,
    repo_root: Path = None
) -> list[dict]:
    """
    Get all symbols defined in a file.

    Args:
        path: File path (reads file if not already cached)
        kind: Optional filter: "function", "class", "method", "variable"
        store: Cache store
        repo_root: Repository root path

    Returns:
        [{"name": str, "kind": str, "line": int, "end_line": int,
          "signature": str | None, "doc": str | None}, ...]
    """
```

## Acceptance Criteria

- [ ] Returns all symbols if no kind filter
- [ ] Filters by kind when specified
- [ ] Reads and caches file if not already cached
- [ ] Returns cached symbols on subsequent calls
- [ ] Returns empty list for unsupported languages
- [ ] Includes signature and docstring when available

## Test Cases (using axios repo)

```gherkin
Feature: get_symbols tool

  Scenario: Get all symbols from a file
    Given the axios repository is cloned
    When I call get_symbols("lib/axios.js")
    Then I should get a list of symbols
    And the list should include functions and classes

  Scenario: Filter by kind
    Given the axios repository is cloned
    When I call get_symbols("lib/axios.js", kind="function")
    Then all returned symbols should have kind "function"

  Scenario: Symbols include line numbers
    Given the axios repository is cloned
    When I call get_symbols("lib/axios.js")
    Then each symbol should have "line" and "end_line"
    And line numbers should be positive integers

  Scenario: File is cached after get_symbols
    Given the axios repository is cloned
    When I call get_symbols("lib/axios.js")
    Then the file should be in the cache
    And I should be able to verify citations against it
```

## Output Format

```python
[
    {
        "name": "Axios",
        "kind": "class",
        "line": 15,
        "end_line": 120,
        "signature": "class Axios",
        "doc": "Create a new instance of Axios"
    },
    {
        "name": "request",
        "kind": "method",
        "line": 25,
        "end_line": 45,
        "signature": "request(configOrUrl, config)",
        "doc": "Dispatch a request"
    }
]
```

## Implementation Notes

- Call `read_file` internally to ensure caching
- Use `extract_symbols` from parser module
- Convert Symbol dataclass to dict for JSON serialization
