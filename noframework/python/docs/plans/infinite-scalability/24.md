# Task 24 — Drafting & Citation Repair Loop

Status: TODO

## Scope
- Regenerate retrieval evidence each iteration (post-repair) instead of reusing the initial set; keep evidence bounded and aligned to the prompt.
- Repair missing/invalid citations by retrieving matching chunks, not by injecting placeholders or unrelated allowed citations.
- Enforce that report citations are a subset of the current evidence and map to stored chunks; preserve user-requested sections while repairing.

## Deliverables
- Drafting pipeline that refreshes evidence per iteration, applies citation-aware drafting prompts, and repairs citations with retrieved evidence.
- Enforcement logic that rejects/repairs invented citations and prevents fallback to unrelated chunks.
- Tests validating section preservation, evidence refresh, and citation repair correctness.

## Test Plan
- Unit: lines missing citations get repaired using retrieved matching chunks; unrelated fallback citations rejected.
- Unit: enforcement ensures report citations ⊆ evidence set and map to stored chunks.
- Integration: multi-iteration run refreshes evidence, repairs citations, and preserves prompt sections without dropping content.
