# Task 10 — BDD End-to-End & Regression Harness

## Scope
- Define behavior-driven scenarios covering the full pipeline (ingest→summarize→retrieve→draft→verify→coverage→revise→output).
- Include regression harness comparing current reports/metrics to approved baselines.
- Scenarios must run with `--persist-store` to support auditing.

## Deliverables
- BDD feature files (or equivalent) describing end-to-end behaviors and acceptance criteria.
- Test runner wiring (e.g., pytest-bdd/behave) with stubs/mocks as needed.
- Regression comparison scripts for reports/metrics.

## Test Plan
- BDD: scenarios for happy path (small repo), coverage failure then fix, claim contradiction then fix, persistence on/off behaviors.
- BDD: citation validity checks, coverage thresholds, iteration stop conditions.
- Regression: compare generated report + metrics to golden baselines; flag diffs.
- Performance/smoke: ensure runs complete under reasonable time for fixtures; artifacts cleaned up when not persisted.
