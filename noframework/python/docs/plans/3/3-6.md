# Task 3-6: Add complexity to report metadata

## Reference

See `docs/designs/3/tech-design.md` Â§Report Metadata

## Requirements

1. **Update `tech_writer/metadata.py`**

   Add `ComplexityInfo` dataclass:
   ```python
   @dataclass
   class ComplexityInfo:
       total_cc: int
       bucket: str
       max_sections: int
       max_exploration_steps: int
       top_functions: list[dict]
   ```

2. **Extend `RunMetadata`**
   ```python
   @dataclass
   class RunMetadata:
       ...
       complexity: Optional[ComplexityInfo] = None
   ```

3. **Update `create_metadata()`**
   - Add `complexity` parameter
   - Include in output JSON

4. **Update CLI integration**
   - Pass complexity info to `create_metadata()`

## Example Output

```json
{
  "version": "1.0",
  "complexity": {
    "total_cc": 12345,
    "bucket": "medium",
    "max_sections": 25,
    "max_exploration_steps": 300,
    "top_functions": [...]
  }
}
```

## Testing Approach

- Unit test ComplexityInfo dataclass
- Test create_metadata includes complexity
- Test CLI passes complexity to metadata

## Acceptance Criteria

- [ ] ComplexityInfo dataclass defined
- [ ] Metadata JSON includes complexity when provided
- [ ] CLI integrates complexity into metadata
