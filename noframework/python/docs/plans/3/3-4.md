# Task 3-4: Integrate complexity budget into orchestrator

## Reference

See `docs/designs/3/tech-design.md` Â§Orchestrator Integration

## Requirements

Update `tech_writer/orchestrator.py`:

1. **Update `run_pipeline()` signature**
   ```python
   def run_pipeline(
       ...,
       complexity_budget: Optional[ComplexityBudget] = None,
   ) -> tuple[str, SymbolStore, CostSummary]:
   ```

2. **Use budget values**
   ```python
   if complexity_budget:
       max_sections = complexity_budget.max_sections
       max_exploration = complexity_budget.max_exploration_steps
       section_max_steps = complexity_budget.section_max_steps
   else:
       max_sections = DEFAULT_MAX_SECTIONS
       max_exploration = DEFAULT_MAX_STEPS
       section_max_steps = DEFAULT_SECTION_MAX_STEPS
   ```

3. **Pass to exploration and generation phases**
   - Apply limits in `explore_codebase()`
   - Apply limits in `generate_sections()`

## Testing Approach

- Test default values used when budget is None
- Test budget values override defaults
- Mock LLM calls

## Acceptance Criteria

- [ ] `complexity_budget` parameter accepted
- [ ] Budget values used when provided
- [ ] Defaults used when budget is None
